---
layout: post
title: 【GESP】C++三级练习 luogu-B2123 字符串 p 型编码
date: 2025-04-17 08:00 +0800
author: OneCoder
comments: true
math: true
tags: [GESP, C++]
categories: [GESP, 三级]
---
GESP三级练习，字符串练习（C++三级大纲中6号知识点，字符串），难度★★☆☆☆。

<!--more-->

## luogu-B2123 字符串 p 型编码

### 题目要求

#### 题目描述

>给定一个完全由数字字符（'0','1','2',…,'9'）构成的字符串 str ，请写出 str 的 p 型编码串。例如：字符串 `122344111` 可被描述为 `1个1、2个2、1个3、2个4、3个1` ，因此我们说`122344111` 的 p 型编码串为 `1122132431` ；类似的道理，编码串 `101` 可以用来描述 `1111111111` ；`00000000000` 可描述为 `11个0`，因此它的p型编码串即为 `110` ；`100200300` 可描述为 `1个1、2个 0、1个2、2个0、1个3、2个0`，因此它的 p 型编码串为 `112012201320`。

#### 输入格式

>输入仅一行，包含字符串 str。每一行字符串最多包含 $1000$ 个数字字符。

#### 输出格式

>输出该字符串对应的 $p$ 型编码串。

### 输入输出样例 #1

#### 输入 #1

```console
122344111
```

#### 输出 #1

```console
1122132431
```

---

### 题目分析

#### 解题思路

1. 读取一整行输入的句子，句子中只包含小写字母和空格
2. 遍历句子中的每个字符：
   - 遇到字母时，将其加入当前单词
   - 遇到空格时：
     - 将当前单词翻转（将字母顺序颠倒）
     - 输出翻转后的单词
     - 清空当前单词，准备处理下一个单词
3. 遍历结束后，需要处理最后一个单词：
   - 将最后一个单词翻转
   - 输出翻转后的单词

**复杂度分析：**

- 时间复杂度为 $O(n)$，其中n为输入句子的总长度
- 空间复杂度为 $O(w)$，其中w为单个单词的最大长度
  
{% include custom/custom-post-content-inner.html %}

---

### 示例代码

#### 方法一：利用stringstream和reverse函数

```cpp
#include <iostream>
#include <string>

int main() {
    std::string str;
    std::cin >> str;
    std::string result;
    int cur_count = 1;
    char cur_char = str[0];
    for (int i = 1; i < str.length();i++) {
        if (str[i] == cur_char) {
            cur_count++;
        } else {
            result += std::to_string(cur_count) + cur_char;
            cur_count = 1;
            cur_char = str[i];
        }
    }
    result += std::to_string(cur_count) + cur_char;
    std::cout << result;
    return 0;
}
```

---

{% include custom/custom-post-content-footer.md %}
