---
layout: post
title: 【GESP】C++三级真题 luogu-B3843 [GESP202306 三级] 密码合规
date: 2025-05-04 22:00 +0800
author: OneCoder
comments: true
math: true
tags: [GESP, C++]
categories: [GESP, 三级]
---
GESP三级真题，字符串相关，难度★★✮☆☆。

<!--more-->

## luogu-B3843 [GESP202306 三级] 密码合规

### 题目要求

#### 题目描述

>网站注册需要有用户名和密码，编写程序以检查用户输入密码的有效性。合规的密码应满足以下要求 :。
>
>1. 只能由 $\texttt a \sim \texttt z$ 之间 $26$ 个小写字母、$\texttt A \sim \texttt Z$ 之间 $26$ 个大写字母、$0 \sim 9$ 之间 $10$ 个数字以及 `!@#$` 四个特殊字符构成。
>
>2. 密码最短长度 $:6$ 个字符，密码最大长>度 $:12$ 个字符。
>
>3. 大写字母，小写字母和数字必须至少有其中两种，以及至少有四个特殊字符中的一个。

#### 输入格式

>输入一行不含空格的字符串。约定长度不超过 $100$。该字符串被英文逗号分隔为多段，作为多组被检测密码。

#### 输出格式

>输出若干行，每行输出一组合规的密码。输出顺序以输入先后为序，即先输入则先输出。

### 输入输出样例 #1

#### 输入 #1

```console
seHJ12!@,sjdkffH$123,sdf!@&12HDHa!,123&^YUhg@!
```

#### 输出 #1

```console
seHJ12!@
sjdkffH$123
```

#### 说明/提示

【样例 1 解释】

输入被英文逗号分为了四组被检测密码：`seHJ12!@`、`sjdkffH$123`、`sdf!@&12HDHa!`、`123&^YUhg@!`。其中 `sdf!@&12HDHa!` 长度超过 12 个字符，不合规；`123&^YUhg@!` 包含四个特殊字符之外的字符不合规。

---

### 题目分析

#### 解题思路

1. 读取输入的学生总数N和报数次数M
2. 使用数组记录每个学生编号的出现情况：
   - 创建大小为N的布尔数组，初始化为false
   - 遍历M个报出的编号，将对应编号位置标记为true
3. 检查未到达的学生：
   - 遍历布尔数组
   - 如果某位置为false，说明该编号学生未到达
4. 输出结果：
   - 如果所有学生都到达，输出N
   - 否则按升序输出未到达学生的编号

**复杂度分析：**

- 时间复杂度为 $O(N+M)$，其中N为学生总数，M为报数次数
- 空间复杂度为 $O(N)$，需要一个大小为N的数组记录到达情况
  
{% include custom/custom-post-content-inner.html %}

---

### 示例代码

```cpp
#include <iostream>
#include <string>

int main() {
    std::string input;
    getline(std::cin, input);
    int count = 0;
    std::string cur_pwd;
    std::string str_ary[100] = {""};
    int ary_len = 0;
    for (int i = 0; i < input.length(); i++) {
        if (input[i] == ',') {
            cur_pwd = input.substr(i - count, count);
            str_ary[ary_len] = cur_pwd;
            ary_len++;
            count = 0;
        } else {
            count++;
        }
        if (i == input.length() - 1) {
            cur_pwd = input.substr(i - count + 1, count);
            str_ary[ary_len] = cur_pwd;
            ary_len++;
        }
    }
    for (int i = 0; i < ary_len; i++) {
        bool flag = true;
        std::string cur = str_ary[i];
        if (cur.length() < 6 || cur.length() > 12) {
            flag = false;
            continue;
        }
        int type[4] = {0};
        for (int j = 0; j < str_ary[i].length(); j++) {
            if (cur[j] >= 'a' && cur[j] <= 'z') {
                type[0] = 1;
            } else if (cur[j] >= 'A' && cur[j] <= 'Z') {
                type[1] = 1;
            } else if (cur[j] >= '0' && cur[j] <= '9') {
                type[2] = 1;
            } else if (cur[j] == '!' || cur[j] == '@' || cur[j] == '#' ||
                       cur[j] == '$') {
                type[3] = 1;
            } else {
                flag = false;
                break;
            }
        }
        if (!flag) {
            continue;
        }
        int sum = 0;
        for (int k = 0; k < 3; k++) {
            sum += type[k];
        }
        if (sum < 2 || type[3] == 0) {
            flag = false;
            continue;
        }
        std::cout << cur << std::endl;
    }
    return 0;
}
```

---

{% include custom/custom-post-content-footer.md %}
