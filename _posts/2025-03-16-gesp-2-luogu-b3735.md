---
layout: post
title: 【GESP】C++二级练习 luogu-B3735 [信息与未来 2018] 圣诞树
date: 2025-03-16 09:00 +0800
author: OneCoder
comments: true
math: true
tags: [GESP, C++]
categories: [GESP, 二级]
---
GESP二级练习，多层循环分支练习，难度★✮☆☆☆。

<!--more-->

## luogu-B3735 [信息与未来 2018] 圣诞树

### 题目要求

#### 题目描述

>圣诞树共有 $n$ 层，从上向下数第 $1$ 层有 $1$ 个星星、第 $2$ 层有 $2$ 个星星、以此类推，排列成下图所示的形状。
>
>![Image](https://cdn.luogu.com.cn/upload/image_hosting/gnp9d7er.png)
>
>星星和星星之间用绳子连接。第 $1,2,\cdots, n - 1$ 层的每个星星都向下一层最近的两个星星连一段绳子，最后一层的相邻星星之间连一段绳子。
>
>你能算出如果要布置一棵很大（$n$ 层）的圣诞树，需要买多少段绳子吗？

#### 输入格式

>输入一行一个整数 $n$，圣诞树的层数。

#### 输出格式

>输出一行一个整数，代表圣诞树中绳子的段数。

#### 输入 #1

```console
2
```

#### 输出 #1

```console
3
```

#### 输入 #2

```console
4
```

#### 输出 #2

```console
15
```

#### 数据规模

所有数据满足 $1 ≤ n ≤ 10^3$。
> 本题原始满分为 $15\text{pts}$。

---

### 题目分析

#### 解题思路

1. 首先，我们需要理解题目的核心要求：
   - 两个玩家：Farmer John和Bessie
   - 初始时各自有一定数量的石头
   - 游戏规则：
     - 轮流操作，Farmer John先手
     - 如果石头数小于对方：从堆中拿1块
     - 如果石头数不小于对方：扔掉一半（向下取整）
     - 当一方石头数为0时游戏结束

2. 解题思路：
   - 输入处理：
     - 读取测试用例数量T
     - 每组测试用例包含两个数x,y（分别是Farmer John和Bessie的初始石头数）
   - 游戏模拟：
     - 使用循环模拟游戏过程
     - 用布尔变量标记当前回合的玩家
     - 根据规则更新石头数量
     - 直到有一方石头数为0
   - 输出结果：
     - 输出最终两人的石头数量
   - 注意：
     - 数据范围较大，需要使用long long类型
     - 需要处理多组测试数据

{% include custom/custom-post-content-inner.html %}

---

### 示例代码

```cpp
#include <iostream>
using namespace std;
int main() {
    int n;
    cin >> n;
    int ans = 0;
    if (n == 1) {
        ans = 0;
    } else {
        ans = (2 + (n - 1) * 2) * (n - 1) / 2 + (n - 1);
    }
    cout << ans;
    return 0;
}
```

---

{% include custom/custom-post-content-footer.md %}
