---
layout: post
title: ã€GESP/CSPã€‘ç¼–ç¨‹æ­¦å™¨åº“-3, åå…­è¿›åˆ¶è½¬æ¢åè¿›åˆ¶
date: 2025-09-26 08:00 +0800
author: OneCoder
comments: true
math: true
tags: [GESP, C++, æ­¦å™¨åº“-è¿›åˆ¶è½¬æ¢]
categories: [GESP, å¿…å¤‡æŠ€èƒ½]
---

>å‰æ–‡ï¼ˆ[***ã€GESP/CSPã€‘ç¼–ç¨‹æ­¦å™¨åº“-2, åè¿›åˆ¶è½¬æ¢åå…­è¿›åˆ¶***](https://www.coderli.com/gesp-arsenal-2-dec-hex-conversion/)ï¼‰ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä»åè¿›åˆ¶åˆ°åå…­è¿›åˆ¶çš„å¤„ç†æ‰‹æ®µï¼Œå¾ˆæ˜¾ç„¶è¿™åªåšåˆ°äº†ä¸€åŠã€‚åœ¨ä¹‹å‰åšè¿‡çš„[***ã€GESPã€‘C++å››çº§çœŸé¢˜ luogu-B3869 [GESP202309 å››çº§] è¿›åˆ¶è½¬æ¢***](https://www.coderli.com/gesp-4-luogu-b3869/)é¢˜ç›®ä¸­ï¼Œéœ€è¦å°†ä¸åŒè¿›åˆ¶çš„æ•°å­—è½¬æ¢æˆåè¿›åˆ¶è¡¨ç¤ºå‡ºæ¥ï¼Œå…¶ä¸­åå…­è¿›åˆ¶ç”±äºæ¶‰åŠå­—æ¯ï¼Œç›¸å¯¹ç‰¹æ®Šï¼Œå…¶ä»–è¿›åˆ¶ç±»æ¯”å³å¯ï¼Œä»Šå¤©å°±ä¸“é—¨æ€»ç»“ä¸‹è¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œå¸Œæœ›ä¸‹æ¬¡é‡åˆ°å¯ä»¥"ä¿¡æ‰‹æ‹ˆæ¥"ã€‚
{: .prompt-info}

å½“å‰æ­¦å™¨åº“æ¸…å•

| åˆ†ç±» | åŠŸèƒ½ | æ•™ç¨‹ |
|------|------|----------|
| [å­—ç¬¦åˆ¤æ–­](https://www.coderli.com/tags/%E6%AD%A6%E5%99%A8%E5%BA%93-%E5%AD%97%E7%AC%A6/) | åˆ¤æ–­æ˜¯å¦ä¸ºæ•°å­—(0-9) | [ã€GESP/CSPã€‘ç¼–ç¨‹æ­¦å™¨åº“-1, å­—ç¬¦ç±»å‹åˆ¤æ–­](https://www.coderli.com/gesp-arsenal-1-char-check-number-alpha) |
| [å­—ç¬¦åˆ¤æ–­](https://www.coderli.com/tags/%E6%AD%A6%E5%99%A8%E5%BA%93-%E5%AD%97%E7%AC%A6/) | åˆ¤æ–­æ˜¯å¦ä¸ºå­—æ¯(a-z/A-Z) |  [ã€GESP/CSPã€‘ç¼–ç¨‹æ­¦å™¨åº“-1, å­—ç¬¦ç±»å‹åˆ¤æ–­](https://www.coderli.com/gesp-arsenal-1-char-check-number-alpha) |
| [å­—ç¬¦åˆ¤æ–­](https://www.coderli.com/tags/%E6%AD%A6%E5%99%A8%E5%BA%93-%E5%AD%97%E7%AC%A6/) | åˆ¤æ–­æ˜¯å¦ä¸ºå¤§å†™å­—æ¯(A-Z) |  [ã€GESP/CSPã€‘ç¼–ç¨‹æ­¦å™¨åº“-1, å­—ç¬¦ç±»å‹åˆ¤æ–­](https://www.coderli.com/gesp-arsenal-1-char-check-number-alpha) |
| [å­—ç¬¦åˆ¤æ–­](https://www.coderli.com/tags/%E6%AD%A6%E5%99%A8%E5%BA%93-%E5%AD%97%E7%AC%A6/) | åˆ¤æ–­æ˜¯å¦ä¸ºå°å†™å­—æ¯(a-z) |  [ã€GESP/CSPã€‘ç¼–ç¨‹æ­¦å™¨åº“-1, å­—ç¬¦ç±»å‹åˆ¤æ–­](https://www.coderli.com/gesp-arsenal-1-char-check-number-alpha) |
| [è¿›åˆ¶è½¬æ¢](https://www.coderli.com/tags/%E6%AD%A6%E5%99%A8%E5%BA%93-%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/) | åè¿›åˆ¶å’Œåå…­è¿›åˆ¶è½¬æ¢ |  [ã€GESP/CSPã€‘ç¼–ç¨‹æ­¦å™¨åº“-2, åè¿›åˆ¶è½¬æ¢åå…­è¿›åˆ¶](https://www.coderli.com/gesp-arsenal-2-dec-hex-conversion) |

> æœ¬äººä¹Ÿæ˜¯è¾¹å­¦ã€è¾¹å®éªŒã€è¾¹æ€»ç»“ã€‚å› æ­¤æœ¬æ–‡æ›´å¤šçš„ä¸æ˜¯ä¸€ä¸ªæ•™ç¨‹ï¼Œè€Œæ˜¯ä¸ªäººçŸ¥è¯†æ¢³ç†ï¼Œå¦‚æœ‰é—æ¼ã€ç–å¿½ï¼Œæ¬¢è¿æŒ‡æ­£ã€äº¤æµã€‚
{: .prompt-warning}

<!--more-->

---

## ä¸€ã€åå…­è¿›åˆ¶å€¼(æ•´å‹å˜é‡)ç›´æ¥è¾“å‡º

åœ¨ C++ ä»£ç ä¸­ï¼Œå¯ä»¥ç›´æ¥å†™åå…­è¿›åˆ¶å¸¸é‡ã€‚å®ƒä»¬ä¸€èˆ¬ä»¥ `0x` å¼€å¤´ï¼Œä¾‹å¦‚ `0xFF`ã€‚ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¯†åˆ«ä¸ºåè¿›åˆ¶æ•°å­˜å‚¨ã€‚æ‰€ä»¥ï¼Œå¦‚æœåªæƒ³æŠŠåå…­è¿›åˆ¶æ•´æ•°å¸¸é‡æ˜¾ç¤ºä¸ºåè¿›åˆ¶ï¼Œç›´æ¥è¾“å‡ºå³å¯ï¼š

```cpp
#include <iostream>
using namespace std;

int main() {
    int a = 0xFF;   // åå…­è¿›åˆ¶ 0xFF è½¬æ¢åå­˜å‚¨ä¸ºåè¿›åˆ¶ 255
    int b = 0x1A;   // åå…­è¿›åˆ¶ 0x1A è½¬æ¢åå­˜å‚¨ä¸ºåè¿›åˆ¶ 26

    cout << "a = " << a << endl;  // 255
    cout << "b = " << b << endl;  // 26
    cout << "a + b = " << a + b << endl;  // 281
    return 0;
}
```

è¾“å‡ºï¼š

```plaintext
a = 255
b = 26
a + b = 281
```

è¯´æ˜ï¼š

* è™½ç„¶ä¹¦å†™æ—¶ç”¨äº†åå…­è¿›åˆ¶ï¼Œä½†å˜é‡å†…éƒ¨ä¿å­˜çš„å°±æ˜¯å¯¹åº”çš„åè¿›åˆ¶æ•°ã€‚
* ä¹‹åå°±èƒ½åƒæ™®é€šæ•´æ•°ä¸€æ ·è¿›è¡Œè¿ç®—ã€‚

è¿™ç§æƒ…å†µä¸‹å…¶å®æ˜¯ä¸æ¶‰åŠä»€ä¹ˆè½¬æ¢æ“ä½œçš„ã€‚å› æ­¤ï¼Œå¦‚æœé¢˜ç›®æ˜¯å¯ä»¥ç”¨æ•´å‹è¿›è¡Œå­˜å‚¨è®¡ç®—çš„ï¼Œé‚£ä¹ˆå½“ä»æ§åˆ¶å°è¯»å–è¾“å…¥çš„æ—¶å€™ï¼Œä¹Ÿç›´æ¥å°†åå…­è¿›åˆ¶è¾“å…¥æ ¼å¼ï¼Œè¯»å–æˆæ•´æ•°å°±å¥½äº†ã€‚

ç”¨æˆ·ç›´æ¥è¾“å…¥åå…­è¿›åˆ¶æ ¼å¼æ•´æ•°ï¼Œå¯ä»¥ä½¿ç”¨ **è¾“å…¥æ§åˆ¶ç¬¦ `hex`**ï¼š

```cpp
#include <iostream>
using namespace std;

int main() {
    int num;
    cout << "è¯·è¾“å…¥ä¸€ä¸ªåå…­è¿›åˆ¶æ•° (å¦‚ FF æˆ– 0x1A): ";
    cin >> hex >> num;   // æŒ‰åå…­è¿›åˆ¶è§£æè¾“å…¥

    cout << "å¯¹åº”çš„åè¿›åˆ¶æ˜¯: " << dec << num << endl;
    return 0;
}
```

è¿è¡Œç¤ºä¾‹ï¼š

```plaintext
è¾“å…¥ï¼šFF/0xFF
è¾“å‡ºï¼šå¯¹åº”çš„åè¿›åˆ¶æ˜¯: 255
```

---

## äºŒã€åå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢

æœ‰æ—¶åå…­è¿›åˆ¶æ•°ä»¥ **å­—ç¬¦ä¸²å½¢å¼** å­˜åœ¨ï¼Œä¾‹å¦‚ `"FF"`ã€`"0x1A"`ï¼›æˆ–è€…æ˜¯ç”¨æˆ· **ä»æ§åˆ¶å°è¾“å…¥**çš„å­—ç¬¦ä¸²ã€‚
è¿™æ—¶éœ€è¦é¢å¤–çš„è½¬æ¢ã€‚

### 1. å†…ç½®å‡½æ•°`stoi` æ–¹æ³•

C++11 æä¾›äº† `stoi` å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥æŠŠå­—ç¬¦ä¸²è½¬ä¸ºæ•´æ•°ï¼Œå¹¶æŒ‡å®šè¿›åˆ¶ï¼š

```cpp
#include <iostream>
#include <string>
using namespace std;

int main() {
    string s1 = "FF";      // åå…­è¿›åˆ¶å­—ç¬¦ä¸²
    string s2 = "0x1A";    // å¸¦ 0x å‰ç¼€

    int num1 = stoi(s1, nullptr, 16);  // è½¬æ¢ä¸ºåè¿›åˆ¶
    int num2 = stoi(s2, nullptr, 16);

    cout << "num1 = " << num1 << endl;  // 255
    cout << "num2 = " << num2 << endl;  // 26
    return 0;
}
```

è¾“å‡ºï¼š

```plaintext
num1 = 255
num2 = 26
```

è¯´æ˜ï¼š

`stoi` çš„å‡½æ•°åŸå‹å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š

```cpp
int stoi(const string& str, size_t* pos = 0, int base = 10);
```

* **ç¬¬ä¸€ä¸ªå‚æ•° `str`**ï¼šè¦è½¬æ¢çš„å­—ç¬¦ä¸²ã€‚
* **ç¬¬äºŒä¸ªå‚æ•° `pos`**ï¼šæŒ‡å‘ `size_t` ç±»å‹çš„æŒ‡é’ˆï¼Œç”¨æ¥å­˜å‚¨â€œç¬¬ä¸€ä¸ªæœªè¢«è½¬æ¢å­—ç¬¦â€çš„ä¸‹æ ‡ä½ç½®ã€‚
* **ç¬¬ä¸‰ä¸ªå‚æ•° `base`**ï¼šè¿›åˆ¶ï¼Œå¸¸ç”¨ `10`ï¼ˆåè¿›åˆ¶ï¼‰ã€`16`ï¼ˆåå…­è¿›åˆ¶ï¼‰ç­‰ã€‚

ç¬¬ä¸€ã€ç¬¬ä¸‰ä¸ªå‚æ•°éƒ½å¥½ç†è§£ï¼Œä¸¾ä¾‹ä»‹ç»ä¸‹ç¬¬äºŒä¸ªå‚æ•°çš„ä½œç”¨ï¼Œæ„Ÿå…´è¶£çš„äº†è§£å³å¯ï¼Œå®é™…ä½¿ç”¨ä¸­ï¼ŒåŸºæœ¬å¯ä»¥æ— è„‘ä¼ `nullptr`ã€‚

#### 1.1 è¡¥å……ä»‹ç»stoiç¬¬äºŒä¸ªå‚æ•°ç”¨æ³•

```cpp
#include <iostream>
#include <string>
using namespace std;

int main() {
    string s = "0xFFend";
    size_t idx;
    int num = stoi(s, &idx, 16);

    cout << "num = " << num << endl;   // è¾“å‡º 255
    cout << "idx = " << idx << endl;   // è¾“å‡º 5, è¡¨ç¤ºç¬¬ä¸€ä¸ªæœªè¢«è½¬æ¢å­—ç¬¦çš„ä¸‹æ ‡ä½ç½®
    cout << "å‰©ä½™éƒ¨åˆ†: " << s.substr(idx) << endl;  // è¾“å‡º end
    return 0;
}
```

è¾“å‡ºï¼š

```plaintext
num = 4094
idx = 5
å‰©ä½™éƒ¨åˆ†: nd
```

ğŸ‘‰ `stoi` åªè§£æ `"0xFF"`ï¼ŒæŠŠ `end` ç•™äº†ä¸‹æ¥ã€‚

---

### 2. æ‰‹åŠ¨ç®—æ³•

å¦‚æœä½ ä¸ä¹ æƒ¯è®°å¿†å‡½æ•°ç”¨æ³•ï¼Œæˆ–è€…æŸäº›é¢˜ç›®æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‰ç…§è¿›åˆ¶è½¬æ¢é€»è¾‘ï¼Œæ‰‹åŠ¨å®ç°ä¸€ä¸ªè¿›åˆ¶è½¬æ¢çš„å‡½æ•°

è¿›åˆ¶è½¬æ¢çš„åŸºæœ¬é€»è¾‘ä¸ºï¼šåå…­è¿›åˆ¶ `"1A"` = `1 Ã— 16^1 + 10 Ã— 16^0 = 26`ã€‚

å› æ­¤ä»£ç å®ç°çš„æ ¸å¿ƒæ€æƒ³ä¸ºï¼šæŠŠåå…­è¿›åˆ¶å­—ç¬¦ä¸²ä»å·¦åˆ°å³é€ä½æ‰«æï¼Œæ¯é‡åˆ°ä¸€ä½å°±å°†å…¶è½¬æ¢æˆ 0â€“15 çš„æ•°å€¼ï¼Œç„¶åâ€œé«˜ä½å…ˆèµ°â€â€”â€”æŠŠå‰é¢å·²ç»ç®—å¥½çš„ç»“æœæ•´ä½“ä¹˜ä»¥ 16ï¼Œå†åŠ ä¸Šå½“å‰è¿™ä¸€ä½çš„å€¼ã€‚  
ä¸€å¥è¯ï¼š**â€œé€¢ä½ä¹˜ 16 å†åŠ æ–°å€¼â€**ï¼Œå¾ªç¯ä¸€éå°±æŠŠæ•´ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ä¸²ç´¯åŠ æˆäº†åè¿›åˆ¶æ•´æ•°ã€‚

ä»£ç ç¤ºä¾‹ï¼š

```cpp
#include <iostream>
#include <string>
using namespace std;

int hexToDec(const string& s) {
    int result = 0;
    for (char c : s) {
        int value;
        if (c >= '0' && c <= '9') {
            value = c - '0';
        } else if (c >= 'A' && c <= 'F') {
            value = c - 'A' + 10;
        } else if (c >= 'a' && c <= 'f') {
            value = c - 'a' + 10;
        } else {
            continue; // è·³è¿‡ä¸åˆæ³•å­—ç¬¦
        }
        result = result * 16 + value;
    }
    return result;
}

int main() {
    string s = "FE";
    cout << hexToDec(s) << endl;  // è¾“å‡º 254
    return 0;
}
```

è¾“å‡ºï¼š

```plaintext
254
```

ä¸Šè¿°ä»£ç ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢æˆåè¿›åˆ¶æ•´æ•°æ ¸å¿ƒé€»è¾‘ã€‚ä¸æ”¯æŒæœ‰è¿›åˆ¶å‰ç¼€`0x`çš„æƒ…å†µï¼Œå¦‚æœæœ‰å‰ç¼€ï¼Œä½ åªéœ€è¦å…ˆæˆªå–æ‰ï¼Œåœ¨æŒ‰ä¸Šè¿°ä»£ç å¤„ç†å³å¯ã€‚è¿™é‡Œå°±ä¸å†èµ˜è¿°ï¼Œç•™ä½œè¯»è€…è‡ªå·±å®ç°ã€‚

---

{% include custom/custom-post-content-footer.md %}
