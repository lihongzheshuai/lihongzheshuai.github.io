---
layout: post
title: 【GESP】C++二级真题 luogu-B4411 [GESP202509 二级] 优美的数字
date: 2025-09-28 08:00 +0800
author: OneCoder
comments: true
math: true
tags: [GESP, C++, 多重循环]
categories: [GESP, 二级]
---
GESP二级真题，多层循环练习，难度★✮☆☆☆。

<!--more-->

## luogu-B4411 [GESP202509 二级] 优美的数字

### 题目要求

#### 题目描述

>如果一个正整数在十进制下的所有数位都相同，小 A 就会觉得这个正整数很优美。例如，正整数 $6$ 的数位都是 $6$，所以 $6$ 是优美的。正整数 $99$ 的数位都是 $9$，所以 $99$ 是优美的。正整数 $123$ 的数位不都相同，所以 $123$ 并不优美。
>
>小 A 想知道不超过 $n$ 的正整数中有多少优美的数字。你能帮他数一数吗？

#### 输入格式

>一行，一个正整数 $n$。

#### 输出格式

>一行，一个正整数，表示不超过 $n$ 的优美正整数的数量。

#### 输入输出样例 #1

##### 输入 #1

```plaintext
6
```

##### 输出 #1

```plaintext
6
```

#### 输入输出样例 #2

##### 输入 #2

```plaintext
2025
```

##### 输出 #2

```plaintext
28
```

#### 说明/提示

对于所有测试点，保证 $1 \leq n \leq 2025$。

---

### 题目分析

本题要求统计不超过 $n$ 的“优美数字”个数，优美数字即十进制各位数字全部相同的正整数。  
核心思路：逐一枚举 $1\sim n$，对当前数字拆位并比较是否所有位都相等。

1. 枚举阶段  
   用单层循环 $i$ 从 $1$ 到 $n$，逐个检查。

2. 拆位比较  
   若 $i$ 是个位数（$i<10$），直接计入答案；  
   否则取出最低位 $\textit{last\_bit}$，再依次把其余位与 $\textit{last\_bit}$ 比较，出现不同则标记失败。

3. 统计答案  
   所有位均相同则计数器 $+1$。

4. 复杂度  
   时间复杂度 $O(n\cdot\log_{10}n)$，$n\le 2025$ 完全够用；  
   空间复杂度 $O(1)$。

5. 边界与细节  
   - 输入保证 $1\le n\le 2025$，无需大整数。  
   - 拆位时先取模再整除，注意循环终止条件。  
   - 个位数特判可省去拆位步骤，略微加速。

{% include custom/custom-post-content-inner.html %}

---

### 示例代码

```cpp
#include <iostream>

int main() {
    int n;
    std::cin >> n; // 读入正整数 n
    int count = 0; // 用于统计满足条件的数字个数
    for (int i = 1; i <= n; i++) { // 枚举 1 到 n 的每个数字
        bool flag = true; // 标记当前数字是否所有位都相同
        int cur_num = i;
        if (i < 10) {
            // 个位数一定满足条件
            count++;
        } else {
            int last_bit = cur_num % 10; // 取最低位
            cur_num /= 10;
            while (cur_num > 0) {
                int cur_bit = cur_num % 10; // 取当前最低位
                if (cur_bit != last_bit) {
                    // 如果有一位不同，则不满足条件
                    flag = false;
                    break;
                }
                cur_num /= 10; // 去掉最低位
            }
            if (flag) {
                // 如果所有位都相同，计数加一
                count++;
            }
        }
    }
    std::cout << count; // 输出结果
    return 0;
}
```

---

{% include custom/custom-post-content-footer.md %}
