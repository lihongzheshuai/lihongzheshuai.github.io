---
layout: post
title: 《High Performance MySQL》翻译(2) 连接管理和安全 优化和执行
date: 2013-03-26 22:39 +0800
author: onecoder
comments: true
tags: [MySQL]
thread_key: 1420
---
<p>
	接上篇，第一章 MySQL架构和历史</p>
<p>
	<strong>连接管理和安全</strong></p>
<p>
	<br />
	每个客户连接在服务内部都有一个独立的线程处理。查询在这个单独的线程内运行，线程轮流在CPU或核心上运行。线程在服务端被缓存，所以不必针对每个新来线程进行创建和销毁。（注2）。<br />
	当客户端（应用）连接到MySQL服务的时候，服务端需要进行认证。认证是基于用户名，来访主机和密码的。X.509认证也可用于通过SSL（安全套接层）进行的连接。当客户端已经连接的时候，服务端会对每个请求校验该客户端是否具有操作权限。（例如：校验该客户端是否具有在wolrd数据库的Country表执行SELECT操作的权限。）</p>
<p>
	<strong>优化和执行</strong></p>
<p>
	MySQL解析查询请求，生成内部结构（解析树），然后执行多种优化。包括重写查询，决定读取表的顺序，选择要使用的索引等等。你可以在查询中通过特殊的关键字给优化器指示，以引导其决定操作步骤。你也可以向服务端询问各种优化的方向。这会让你知道服务端进行了如何的决策，这对你重构查询和表结构以及优化设定以使服务高效运行给出了可参考的点。我们将在第六章讨论优化的细节。</p>
<p>
	优化器并不真正关心表所使用的存储引擎，但是存储引擎影响服务端对查询的优化方式。优化器向存储引擎询问其某些功能特性以及特定操作的耗时和表数据的统计。例如，一些存储引擎支持索引，可以有效支持的查询。你可以在第四和第五章了解到更多关于索引和表结构优化的信息。</p>
<p>
	在解析查询之前，服务端先检查查询缓存，查询缓存仅保存SELECT语句及其结果。如果某个查询请求与缓存中某条信息一致，那么服务端无需在解析，优化或者执行查询，它可以直接返回存储结果。我们将在第七章进行详细的说明。</p>
<p>
	<br />
	注2：MySQL5.5以后的版本支持线程池插件，一个小型的线程池可以提供很多连接。&nbsp;</p>

